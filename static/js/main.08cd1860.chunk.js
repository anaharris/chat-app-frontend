(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{218:function(e,t,n){e.exports=n.p+"static/media/login-logo.a9784e18.png"},231:function(e,t,n){e.exports=n.p+"static/media/signup-logo.6977c84d.png"},232:function(e,t,n){e.exports=n.p+"static/media/welcome.7d9b1d66.gif"},253:function(e,t,n){e.exports=n(428)},258:function(e,t,n){},428:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(61),c=n.n(r),i=(n(258),n(15)),l=n(16),s=n(18),u=n(17),p=n(19),m=n(450),d=n(453),h=n(440),f=n(452),E=n(454),g=n(154),v=n.n(g),b=n(214),O=n(99),C=n.n(O);var y=function(e){return function(t){function n(e){var t;return Object(i.a)(this,n),(t=Object(s.a)(this,Object(u.a)(n).call(this,e))).state={loading:!0},t}return Object(p.a)(n,t),Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{setTimeout(function(){t.setState({loading:!1})},2e3)}catch(n){console.log(n),this.setState({loading:!1})}case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?o.a.createElement("div",{id:"loading-background"},o.a.createElement("img",{id:"loading-logo",src:C.a,alt:"GapGap logo"})):o.a.createElement(e,this.props)}}]),n}(a.Component)},j=n(438),S=n(448),k=n(429),w=n(441),_=n(451),N=n(446),D=n(445),A=n(20),T=n(216),B=n.n(T),I=n(46),M=n(243),R=n(151),L=n(64),P=Object(I.c)({messageInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND_MESSAGE":return console.log("sent",t.messageInput),t.messageInput;default:return e}},userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN":return t.userData;case"LOGGED_OUT":return L.expire("token"),null;case"CHECKED_USER":return t.userData;case"NEW_CONVERSATION":console.log(t);var n=e.conversations.slice();return n.push(t.conversation),Object(R.a)({},e,{conversations:n});default:return e}},selectedConversation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_CONVERSATION":return t.selectedConversation;case"RECEIVE_MESSAGE":console.log("received",t.message);var n=e.messages.slice();return n.push(t.message),Object(R.a)({},e,{messages:n});case"ADDED_BOT_TO_CONVERSATION":var a=e.bots.slice();return a.push(t.bot),Object(R.a)({},e,{bots:a});case"HOMEPAGE":return null;default:return e}},allUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_ALL_USERS":return t.allUsers;default:return e}},allBots:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_ALL_BOTS":return t.bots;case"CREATED_NEW_BOT":return[].concat(Object(M.a)(e),[t.bot]);default:return e}},conversationModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"OPEN_NEW_CONVERSATION":return!0;case"CLOSE_NEW_CONVERSATION":return!1;default:return e}},newBotModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"OPEN_NEW_BOT":return!0;case"CLOSE_NEW_BOT":return!1;default:return e}},profileModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"OPEN_PROFILE_MODAL":return!0;case"CLOSE_PROFILE_MODAL":return!1;default:return e}}}),U=n(217),F=Object(I.e)(P,Object(I.d)(Object(I.a)(U.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),z=n(64),x="https://gap-gap.herokuapp.com",G=function(){return function(e){var t=z.get("token"),n="ws:".concat(x,"/cable"),a={};a.cable=B.a.createConsumer("".concat(n,"?token=").concat(t));var o=a.cable.subscriptions.create({channel:"MessagesChannel",conversation_id:F.getState().selectedConversation},{connected:function(){console.log("connected to messages stream")},disconnected:function(){console.log("disconnected from messages stream")},received:function(t){e({type:"RECEIVE_MESSAGE",message:t})}});console.log("socket"),a.conversations=[o],window.App=a}},H=n(218),W=n.n(H),V=n(64),J=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.body.style.background="#F7C3B6"}},{key:"render",value:function(){var e=this;return V.get("token")&&this.props.currentUser?o.a.createElement(f.a,{to:"/conversations"}):o.a.createElement("div",{className:"padded-top-large"},o.a.createElement(S.a,{columns:4,centered:!0,style:{paddingTop:"5%"}},o.a.createElement(S.a.Row,{verticalAlign:"top"},o.a.createElement(S.a.Column,null,o.a.createElement(k.a,{size:"huge",floated:"right",src:W.a}))),o.a.createElement(S.a.Row,{verticalAlign:"bottom"},o.a.createElement(S.a.Column,null,o.a.createElement(w.a,{size:"big",onSubmit:function(t){e.props.onSubmit(t.target.username.value,t.target.password.value)}},o.a.createElement(_.a,{stacked:!0},o.a.createElement(w.a.Input,{name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username"}),o.a.createElement(w.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",style:{background:"#fcefec"}}),o.a.createElement(N.a,{style:{backgroundColor:"#37525F",color:"#CEDEDC"},fluid:!0,size:"large",type:"submit"},"Login"))),o.a.createElement(D.a,{style:{textAlign:"center"}},"New to us? ",o.a.createElement(j.a,{style:{color:"#37525F"},to:"/signup"},"Sign up"))))))}}]),t}(a.Component),K=Object(A.b)(function(e){return{currentUser:e.userData}},function(e){return{onSubmit:function(t,n){e(function(e,t){return function(n){var a="".concat(x,"/login"),o={user:{username:e,password:t}};fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(function(e){return e.json()}).then(function(e){e.error?alert(e.message):(z.set("token",e.jwt),n({type:"LOGGED_IN",userData:e.user}))})}}(t,n))}}})(J),X=n(231),Y=n.n(X),$=n(64),q=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.body.style.background="#37525F"}},{key:"render",value:function(){var e=this;return $.get("token")&&this.props.currentUser?o.a.createElement(f.a,{to:"/conversations"}):o.a.createElement(S.a,{columns:4,centered:!0,style:{paddingTop:"5%"}},o.a.createElement(S.a.Row,{verticalAlign:"top"},o.a.createElement(S.a.Column,null,o.a.createElement(k.a,{size:"huge",floated:"right",src:Y.a}))),o.a.createElement(S.a.Row,{verticalAlign:"bottom"},o.a.createElement(S.a.Column,null,o.a.createElement(w.a,{size:"large",onSubmit:function(t){e.props.onSubmit(t.target.username.value,t.target.password.value)}},o.a.createElement(_.a,{stacked:!0},o.a.createElement(w.a.Input,{name:"username",fluid:!0,icon:"user",iconPosition:"left",placeholder:"Username"}),o.a.createElement(w.a.Input,{name:"name",fluid:!0,icon:"user outline",iconPosition:"left",placeholder:"Display name"}),o.a.createElement(w.a.Input,{name:"avatar",fluid:!0,icon:"photo",iconPosition:"left",placeholder:"Avatar URL"}),o.a.createElement(w.a.Input,{name:"password",fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password"}),o.a.createElement(N.a,{style:{backgroundColor:"#F7C3B6",color:"#37525F"},fluid:!0,size:"large",type:"submit"},"Sign in"))),o.a.createElement(D.a,{style:{textAlign:"center"}},"Already a member? ",o.a.createElement(j.a,{style:{color:"#37525F"},to:"/login"},"Log in")))))}}]),t}(a.Component),Q=n(443),Z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(Q.a.Item,{style:{marginBottom:"2px"}},o.a.createElement(k.a,{avatar:!0,src:this.props.message.avatar}),o.a.createElement(Q.a.Content,null,o.a.createElement(Q.a.Header,null,this.props.message.user_name),o.a.createElement(Q.a.Description,null,this.props.message.content)))}}]),t}(a.Component),ee=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={text:""},n.onChange=function(e){n.setState({text:e.target.value})},n.onSubmit=function(e){e.preventDefault()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(w.a,{onSubmit:this.onSubmit,style:{backgroundColor:"#f9dcd6"}},o.a.createElement(w.a.Input,{placeholder:"start typing...",style:{backgroundColor:"#fcefec"},onChange:this.onChange,onKeyDown:function(t){13===t.keyCode&&(e.props.onKeyDown(t.target.value),e.setState({text:""}))},value:this.state.text}))}}]),t}(a.Component),te=Object(A.b)(null,function(e){return{onKeyDown:function(t){e(function(e){return function(t){window.App.conversations[0].send({content:e,conversation_id:F.getState().selectedConversation.id}),t(function(e){return{type:"SEND_MESSAGE",messageInput:e}}(e))}}(t))}}})(ee),ne=n(232),ae=n.n(ne),oe=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.selectedConversation?o.a.createElement(S.a.Column,{width:8},o.a.createElement(_.a,{style:{height:"140%",overflowY:"scroll"}},o.a.createElement(Q.a,null,this.props.selectedConversation.messages.map(function(e){return o.a.createElement(Z,{key:e.id,message:e})}))),o.a.createElement(_.a,null,o.a.createElement(te,null))):o.a.createElement(S.a.Column,{width:8},o.a.createElement(_.a,{style:{height:"120%"}},o.a.createElement(k.a,{src:ae.a,fluid:!0})))}}]),t}(a.Component),re=Object(A.b)(function(e){return{selectedConversation:e.selectedConversation,currentUser:e.userData}})(oe),ce=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(_.a,{onClick:function(){return e.props.onClick(e.props.conversation.id)}},this.props.conversation.topic)}}]),t}(a.Component),ie=Object(A.b)(null,function(e){return{onClick:function(t){e(function(e){return function(t){fetch("".concat(x,"/conversations/").concat(e)).then(function(e){return e.json()}).then(function(e){t({type:"FETCHED_CONVERSATION",selectedConversation:e})})}}(t))}}})(ce),le=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.createSocket()}},{key:"render",value:function(){return o.a.createElement(S.a.Column,{width:4},this.props.conversations?this.props.conversations.map(function(e){return o.a.createElement(ie,{key:e.id,conversation:e})}):null)}}]),t}(a.Component),se=Object(A.b)(function(e){return{conversations:e.userData.conversations}},function(e){return{createSocket:function(){e(G())}}})(le),ue=n(442),pe=n(444),me=n(449),de=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={bot:n.props.bot,open:!1},n.onButtonClick=function(){var e={bot_id:n.state.bot.id,conversation_id:n.props.selectedConversation.id};n.props.addingBot(e),n.setState({open:!1})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(ue.a,{size:"small",open:this.state.open,trigger:o.a.createElement(pe.a.Item,{onClick:function(){return e.setState({open:!0})}},this.props.bot.name)},o.a.createElement(ue.a.Header,null,this.props.bot.name),o.a.createElement(ue.a.Content,{image:!0},o.a.createElement(k.a,{wrapped:!0,size:"medium",src:this.props.bot.avatar}),o.a.createElement(ue.a.Description,null,o.a.createElement(me.a,null,"Trigger:"),o.a.createElement("p",null,"/",this.props.bot.trigger),o.a.createElement(me.a,null,"Response:"),o.a.createElement("p",null,this.props.bot.response))),o.a.createElement(ue.a.Actions,null,o.a.createElement(N.a,{style:{backgroundColor:"#37525F",color:"#CEDEDC"},onClick:function(){return e.setState({open:!1})},size:"small"}," Cancel "),o.a.createElement(N.a,{style:{backgroundColor:"#37525F",color:"#CEDEDC"},onClick:function(){return e.onButtonClick()},size:"small"}," Add ")))}}]),t}(a.Component),he=Object(A.b)(function(e){return{selectedConversation:e.selectedConversation}},function(e){return{addingBot:function(t){e(function(e){return function(t){var n=z.get("token");fetch("".concat(x,"/bot_conversations"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){fetch("".concat(x,"/bots/").concat(e.botConversation.bot_id),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)}}).then(function(e){return e.json()}).then(function(e){t({type:"ADDED_BOT_TO_CONVERSATION",bot:e})})})}}(t))}}})(de),fe=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"filterBots",value:function(){var e=this;return this.props.selectedConversation?this.props.allBots.filter(function(t){return!!e.props.selectedConversation.bots.includes(t)}):this.props.allBots}},{key:"render",value:function(){return this.props.selectedConversation?o.a.createElement(S.a.Column,{width:4},o.a.createElement(_.a,null,o.a.createElement(Q.a,{size:"large",verticalAlign:"middle"},o.a.createElement(me.a,{style:{color:"#37525F"}},this.props.selectedConversation.topic),o.a.createElement(me.a,null,"Participants:"),this.props.selectedConversation.users.map(function(e){return o.a.createElement(Q.a.Item,{key:e.id},o.a.createElement(k.a,{avatar:!0,src:e.avatar}),o.a.createElement(Q.a.Content,null,o.a.createElement(Q.a.Header,null,e.name)))}),o.a.createElement(me.a,null,"Bots:"),this.props.selectedConversation.bots.map(function(e){return o.a.createElement(Q.a.Item,{key:e.id},o.a.createElement(k.a,{avatar:!0,src:e.avatar}),o.a.createElement(Q.a.Content,null,o.a.createElement(Q.a.Header,null,e.name)))})),o.a.createElement(_.a,{inverted:!0,style:{backgroundColor:"#37525F"}},o.a.createElement(pe.a,{text:"Add Bot",className:"link item"},o.a.createElement(pe.a.Menu,null,this.props.allBots.map(function(e){return o.a.createElement(he,{key:e.id,bot:e})})))))):null}}]),t}(a.Component),Ee=Object(A.b)(function(e){return{selectedConversation:e.selectedConversation,allBots:e.allBots}})(fe),ge=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchingAllBots()}},{key:"render",value:function(){return this.props.currentUser?o.a.createElement(S.a,{columns:2,padded:!0},o.a.createElement(S.a.Row,null,o.a.createElement(se,null),o.a.createElement(re,null),o.a.createElement(Ee,null))):o.a.createElement(f.a,{to:"/login"})}}]),t}(a.Component),ve=Object(A.b)(function(e){return{currentUser:e.userData}},function(e){return{fetchingAllBots:function(){e(function(e){var t=z.get("token");fetch("".concat(x,"/bots"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).then(function(t){e({type:"FETCHED_ALL_BOTS",bots:t})})})}}})(ge),be=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"not-found",style:{height:"100vh",backgroundColor:"#F7C3B6"}},o.a.createElement("div",{className:"not-found-text",style:{height:"100%",color:"#37525f",textAlign:"center",verticalAlign:"middle",paddingTop:"15%"}},o.a.createElement("p",{style:{fontSize:"40px"}},"Page not found!")))}}]),t}(a.Component),Oe=n(447),Ce=n(437),ye=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={topic:"",userId:null},n.inputChange=function(e){n.setState({topic:e.target.value})},n.dropdownChange=function(e){n.setState({userId:e.target.id})},n.formSubmit=function(){var e={topic:n.state.topic,userId:n.state.userId};console.log(e),n.props.creatingNewConversation(e),n.props.closeNewConversationModal()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchingAllUsers()}},{key:"render",value:function(){var e=this,t=this.props.allUsers.filter(function(t){return t.id!==e.props.currentUser.id});console.log(t);var n=t.map(function(e){return{id:e.id,text:e.name,value:e.id,image:{avatar:!0,src:e.avatar}}});return o.a.createElement(ue.a.Content,null,o.a.createElement(me.a,null,"Topic:"),o.a.createElement(w.a,{id:"newConversationForm",onSubmit:this.formSubmit},o.a.createElement(w.a.Input,{onChange:this.inputChange,placeholder:"Topic"}),o.a.createElement(me.a,null,"To:"),o.a.createElement(w.a.Input,{control:Ce.a,placeholder:"Select a person",fluid:!0,selection:!0,options:n,onChange:this.dropdownChange}),o.a.createElement(N.a,{fluid:!0,size:"small",content:"Create",style:{backgroundColor:"#37525F",color:"#CEDEDC"}})))}}]),t}(a.Component),je=Object(A.b)(function(e){return{allUsers:e.allUsers,currentUser:e.userData}},function(e){return{fetchingAllUsers:function(){e(function(e){var t=z.get("token"),n="".concat(x,"/users");fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).then(function(t){console.log(t),e({type:"FETCHED_ALL_USERS",allUsers:t})})})},creatingNewConversation:function(t){var n;e((n=t,function(e){var t=z.get("token");fetch("".concat(x,"/conversations"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({topic:n.topic})}).then(function(e){return e.json()}).then(function(a){fetch("".concat(x,"/user_conversations"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({conversation_id:a.conversation.id,user_id:parseInt(n.userId)})}).then(function(e){return e.json()}).then(function(n){fetch("".concat(x,"/user_conversations"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({conversation_id:n.userConversation.conversation_id,user_id:F.getState().userData.id})}).then(function(e){return e.json()}).then(function(t){console.log(a),e({type:"NEW_CONVERSATION",conversation:a.conversation})})})})}))},closeNewConversationModal:function(){e({type:"CLOSE_NEW_CONVERSATION"})}}})(ye),Se=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",trigger:"",response:"",avatar:""},n.handleName=function(e){n.setState({name:e.target.value})},n.handleTrigger=function(e){n.setState({trigger:e.target.value})},n.handleResponse=function(e){n.setState({response:e.target.value})},n.handleAvatar=function(e){n.setState({avatar:e.target.value})},n.formSubmit=function(){var e=n.state;n.props.creatingNewBot(e),n.props.closeNewBotModal()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(ue.a.Content,null,o.a.createElement(me.a,null,"Bot name:"),o.a.createElement(w.a,{onSubmit:this.formSubmit},o.a.createElement(w.a.Input,{placeholder:"Bot name",onChange:this.handleName}),o.a.createElement(me.a,null,"Trigger:"),o.a.createElement("p",null,"Trigger should be a single word."),o.a.createElement(w.a.Input,{placeholder:"Trigger",onChange:this.handleTrigger}),o.a.createElement(me.a,null,"Response:"),o.a.createElement("p",null,"Response can be a word or a sentence."),o.a.createElement(w.a.Input,{placeholder:"Response",onChange:this.handleResponse}),o.a.createElement(me.a,null,"Avatar:"),o.a.createElement(w.a.Input,{placeholder:"URL",onChange:this.handleAvatar}),o.a.createElement(N.a,{fluid:!0,size:"small",content:"Create",style:{backgroundColor:"#37525F",color:"#CEDEDC"}})))}}]),t}(a.Component),ke=Object(A.b)(null,function(e){return{closeNewBotModal:function(){e({type:"CLOSE_NEW_BOT"})},creatingNewBot:function(t){e(function(e){return function(t){var n=z.get("token");fetch("".concat(x,"/bots"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return t({type:"CREATED_NEW_BOT",bot:e.bot})})}}(t))}}})(Se),we=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(ue.a.Content,{image:!0},o.a.createElement(k.a,{wrapped:!0,size:"medium",src:this.props.userData.avatar}),o.a.createElement(ue.a.Description,null,o.a.createElement(me.a,null,"Display Name:"),o.a.createElement("p",null,this.props.userData.name),o.a.createElement(me.a,null,"Username:"),o.a.createElement("p",null,this.props.userData.username)))}}]),t}(a.Component),_e=Object(A.b)(function(e){return{userData:e.userData}},function(e){return{closeProfileModal:function(){e({type:"CLOSE_PROFILE_MODAL"})}}})(we),Ne=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(Oe.a,{style:{backgroundColor:"#37525F",color:"#CEDEDC"},inverted:!0},o.a.createElement(Oe.a.Item,{onClick:this.props.homepage},o.a.createElement("img",{src:C.a,alt:"logo"})),o.a.createElement(ue.a,{size:"small",trigger:o.a.createElement(Oe.a.Item,{name:"Create conversation",onClick:this.props.openNewConversationModal}),open:this.props.conversationModal,onClose:this.props.closeNewConversationModal},o.a.createElement(ue.a.Header,null," Create a New Conversation "),o.a.createElement(je,null)),o.a.createElement(ue.a,{size:"small",trigger:o.a.createElement(Oe.a.Item,{name:"create bot",onClick:this.props.openNewBotModal}),open:this.props.newBotModal,onClose:this.props.closeNewBotModal},o.a.createElement(ue.a.Header,null," Create a New Bot "),o.a.createElement(ke,null)),o.a.createElement(Oe.a.Menu,{position:"right"},o.a.createElement(ue.a,{size:"small",trigger:o.a.createElement(Oe.a.Item,{name:"profile",onClick:this.props.openProfileModal}),open:this.props.profileModal,onClose:this.props.closeProfileModal},o.a.createElement(ue.a.Header,null," Profile "),o.a.createElement(_e,null)),o.a.createElement(Oe.a.Item,{name:"logout",onClick:this.props.logout})))}}]),t}(a.Component),De=Object(A.b)(function(e){return{conversationModal:e.conversationModal,newBotModal:e.newBotModal,profileModal:e.profileModal,allBots:e.allBots,userData:e.userData}},function(e){return{logout:function(){e({type:"LOGGED_OUT"})},openNewConversationModal:function(){e({type:"OPEN_NEW_CONVERSATION"})},closeNewConversationModal:function(){e({type:"CLOSE_NEW_CONVERSATION"})},openNewBotModal:function(){e({type:"OPEN_NEW_BOT"})},closeNewBotModal:function(){e({type:"CLOSE_NEW_BOT"})},openProfileModal:function(){e({type:"OPEN_PROFILE_MODAL"})},closeProfileModal:function(){e({type:"CLOSE_PROFILE_MODAL"})},homepage:function(){e({type:"HOMEPAGE"})}}})(Ne),Ae=n(439),Te=(n(425),n(64)),Be=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){Te.get("token")&&this.props.checkingUser()}},{key:"render",value:function(){return o.a.createElement(a.Fragment,null,this.props.currentUser?o.a.createElement(Ae.a,null,o.a.createElement(De,null)):null,o.a.createElement(m.a,{basename:"/gap-gap"},o.a.createElement(d.a,null,o.a.createElement(h.a,{exact:!0,path:"/",render:function(){return o.a.createElement(f.a,{to:"/login"})}}),o.a.createElement(h.a,{exact:!0,path:"/login",render:function(){return o.a.createElement(K,null)}}),o.a.createElement(h.a,{exact:!0,path:"/signup",component:q}),o.a.createElement(h.a,{exact:!0,path:"/conversations",render:function(){return o.a.createElement(ve,null)}}),o.a.createElement(h.a,{component:be}))))}}]),t}(a.Component),Ie=y(Object(E.a)(Object(A.b)(function(e){return{currentUser:e.userData}},function(e){return{createSocket:function(){e(G())},checkingUser:function(t){e(function(e){var t=z.get("token"),n="".concat(x,"/profile");fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).then(function(t){e({type:"CHECKED_USER",userData:t.user})})})}}})(Be)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(A.a,{store:F},o.a.createElement(m.a,null,o.a.createElement(Ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},99:function(e,t,n){e.exports=n.p+"static/media/logo-pink.8a553ee2.png"}},[[253,2,1]]]);
//# sourceMappingURL=main.08cd1860.chunk.js.map